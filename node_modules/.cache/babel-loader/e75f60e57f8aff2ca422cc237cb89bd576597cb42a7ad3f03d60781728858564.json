{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.typed-array.find-last.js\");\nrequire(\"core-js/modules/es.typed-array.find-last-index.js\");\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromDecStringToHex = exports.fromHexStringToDecimals = exports.znsChildhash = exports.znsNamehash = exports.eip137Childhash = exports.eip137Namehash = void 0;\nvar sha256_1 = __importDefault(require(\"crypto-js/sha256\"));\nvar sha3_1 = __importDefault(require(\"crypto-js/sha3\"));\nvar enc_hex_1 = __importDefault(require(\"crypto-js/enc-hex\"));\nvar lib_typedarrays_1 = __importDefault(require(\"crypto-js/lib-typedarrays\"));\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nfunction eip137Namehash(domain) {\n  var arr = hashArray(domain, 'sha3');\n  return arrayToHex(arr);\n}\nexports.eip137Namehash = eip137Namehash;\nfunction eip137Childhash(parentHash, label) {\n  return childhash(parentHash, label, 'sha3');\n}\nexports.eip137Childhash = eip137Childhash;\nfunction znsNamehash(domain) {\n  var arr = hashArray(domain, 'sha256');\n  return arrayToHex(arr);\n}\nexports.znsNamehash = znsNamehash;\nfunction znsChildhash(parentHash, label) {\n  return childhash(parentHash, label, 'sha256');\n}\nexports.znsChildhash = znsChildhash;\nfunction childhash(parentHash, label, hashingAlgo) {\n  var hash = hashingAlgo === 'sha256' ? sha256_1.default : sha3_1.default;\n  var opts = {\n    outputLength: 256\n  };\n  var parent = parentHash.replace(/^0x/, '');\n  var childHash = enc_hex_1.default.stringify(hash(label, opts));\n  return \"0x\".concat(enc_hex_1.default.stringify(hash(enc_hex_1.default.parse(\"\".concat(parent).concat(childHash)), opts)));\n}\nfunction hashArray(domain, hashingAlgo) {\n  if (!domain) {\n    return lib_typedarrays_1.default.create(Array.from(new Uint8Array(8)));\n  }\n  var hash = hashingAlgo === 'sha256' ? sha256_1.default : sha3_1.default;\n  var opts = {\n    outputLength: 256\n  };\n  var _a = domain.split('.'),\n    label = _a[0],\n    remainder = _a.slice(1);\n  var labelHash = hash(label, opts);\n  var remainderHash = hashArray(remainder.join('.'), hashingAlgo);\n  return hash(remainderHash.concat(labelHash), opts);\n}\nfunction arrayToHex(arr) {\n  return \"0x\".concat(enc_hex_1.default.stringify(arr));\n}\nfunction fromHexStringToDecimals(value) {\n  if (value.startsWith('0x')) {\n    var valueWithoutPrefix = value.slice(2, value.length);\n    var bn = new bn_js_1.default(valueWithoutPrefix, 16);\n    return bn.toString(10);\n  }\n  return value;\n}\nexports.fromHexStringToDecimals = fromHexStringToDecimals;\nfunction fromDecStringToHex(value) {\n  if (!value.startsWith('0x')) {\n    var bn = new bn_js_1.default(value, 10);\n    var bnString = bn.toString(16);\n    return \"0x\".concat(bnString.padStart(64, '0'));\n  }\n  return value;\n}\nexports.fromDecStringToHex = fromDecStringToHex;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","fromDecStringToHex","fromHexStringToDecimals","znsChildhash","znsNamehash","eip137Childhash","eip137Namehash","sha256_1","require","sha3_1","enc_hex_1","lib_typedarrays_1","bn_js_1","domain","arr","hashArray","arrayToHex","parentHash","label","childhash","hashingAlgo","hash","default","opts","outputLength","parent","replace","childHash","stringify","concat","parse","create","Array","from","Uint8Array","_a","split","remainder","slice","labelHash","remainderHash","join","startsWith","valueWithoutPrefix","length","bn","toString","bnString","padStart"],"sources":["/Users/shepher/Downloads/filename-space/node_modules/@unstoppabledomains/resolution/build/utils/namehash.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromDecStringToHex = exports.fromHexStringToDecimals = exports.znsChildhash = exports.znsNamehash = exports.eip137Childhash = exports.eip137Namehash = void 0;\nvar sha256_1 = __importDefault(require(\"crypto-js/sha256\"));\nvar sha3_1 = __importDefault(require(\"crypto-js/sha3\"));\nvar enc_hex_1 = __importDefault(require(\"crypto-js/enc-hex\"));\nvar lib_typedarrays_1 = __importDefault(require(\"crypto-js/lib-typedarrays\"));\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nfunction eip137Namehash(domain) {\n    var arr = hashArray(domain, 'sha3');\n    return arrayToHex(arr);\n}\nexports.eip137Namehash = eip137Namehash;\nfunction eip137Childhash(parentHash, label) {\n    return childhash(parentHash, label, 'sha3');\n}\nexports.eip137Childhash = eip137Childhash;\nfunction znsNamehash(domain) {\n    var arr = hashArray(domain, 'sha256');\n    return arrayToHex(arr);\n}\nexports.znsNamehash = znsNamehash;\nfunction znsChildhash(parentHash, label) {\n    return childhash(parentHash, label, 'sha256');\n}\nexports.znsChildhash = znsChildhash;\nfunction childhash(parentHash, label, hashingAlgo) {\n    var hash = hashingAlgo === 'sha256' ? sha256_1.default : sha3_1.default;\n    var opts = { outputLength: 256 };\n    var parent = parentHash.replace(/^0x/, '');\n    var childHash = enc_hex_1.default.stringify(hash(label, opts));\n    return \"0x\".concat(enc_hex_1.default.stringify(hash(enc_hex_1.default.parse(\"\".concat(parent).concat(childHash)), opts)));\n}\nfunction hashArray(domain, hashingAlgo) {\n    if (!domain) {\n        return lib_typedarrays_1.default.create(Array.from(new Uint8Array(8)));\n    }\n    var hash = hashingAlgo === 'sha256' ? sha256_1.default : sha3_1.default;\n    var opts = { outputLength: 256 };\n    var _a = domain.split('.'), label = _a[0], remainder = _a.slice(1);\n    var labelHash = hash(label, opts);\n    var remainderHash = hashArray(remainder.join('.'), hashingAlgo);\n    return hash(remainderHash.concat(labelHash), opts);\n}\nfunction arrayToHex(arr) {\n    return \"0x\".concat(enc_hex_1.default.stringify(arr));\n}\nfunction fromHexStringToDecimals(value) {\n    if (value.startsWith('0x')) {\n        var valueWithoutPrefix = value.slice(2, value.length);\n        var bn = new bn_js_1.default(valueWithoutPrefix, 16);\n        return bn.toString(10);\n    }\n    return value;\n}\nexports.fromHexStringToDecimals = fromHexStringToDecimals;\nfunction fromDecStringToHex(value) {\n    if (!value.startsWith('0x')) {\n        var bn = new bn_js_1.default(value, 10);\n        var bnString = bn.toString(16);\n        return \"0x\".concat(bnString.padStart(64, '0'));\n    }\n    return value;\n}\nexports.fromDecStringToHex = fromDecStringToHex;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}