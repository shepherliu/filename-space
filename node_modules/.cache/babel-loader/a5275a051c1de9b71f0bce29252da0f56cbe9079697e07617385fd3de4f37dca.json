{"ast":null,"code":"import { BaseBlockstore } from './base.js';\nimport { base32 } from 'multiformats/bases/base32';\nimport * as raw from 'multiformats/codecs/raw';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport * as Errors from './errors.js';\nexport class MemoryBlockstore extends BaseBlockstore {\n  constructor() {\n    super();\n    this.data = {};\n  }\n  open() {\n    return Promise.resolve();\n  }\n  close() {\n    return Promise.resolve();\n  }\n  async put(key, val) {\n    this.data[base32.encode(key.multihash.bytes)] = val;\n  }\n  async get(key) {\n    const exists = await this.has(key);\n    if (!exists) throw Errors.notFoundError();\n    return this.data[base32.encode(key.multihash.bytes)];\n  }\n  async has(key) {\n    return this.data[base32.encode(key.multihash.bytes)] !== undefined;\n  }\n  async delete(key) {\n    delete this.data[base32.encode(key.multihash.bytes)];\n  }\n  async *_all() {\n    yield* Object.entries(this.data).map(([key, value]) => ({\n      key: CID.createV1(raw.code, Digest.decode(base32.decode(key))),\n      value\n    }));\n  }\n  async *_allKeys() {\n    yield* Object.entries(this.data).map(([key]) => CID.createV1(raw.code, Digest.decode(base32.decode(key))));\n  }\n}","map":{"version":3,"names":["BaseBlockstore","base32","raw","CID","Digest","Errors","MemoryBlockstore","constructor","data","open","Promise","resolve","close","put","key","val","encode","multihash","bytes","get","exists","has","notFoundError","undefined","delete","_all","Object","entries","map","value","createV1","code","decode","_allKeys"],"sources":["/Users/shepher/Downloads/filename-space/node_modules/blockstore-core/esm/src/memory.js"],"sourcesContent":["import { BaseBlockstore } from './base.js';\nimport { base32 } from 'multiformats/bases/base32';\nimport * as raw from 'multiformats/codecs/raw';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport * as Errors from './errors.js';\nexport class MemoryBlockstore extends BaseBlockstore {\n  constructor() {\n    super();\n    this.data = {};\n  }\n  open() {\n    return Promise.resolve();\n  }\n  close() {\n    return Promise.resolve();\n  }\n  async put(key, val) {\n    this.data[base32.encode(key.multihash.bytes)] = val;\n  }\n  async get(key) {\n    const exists = await this.has(key);\n    if (!exists)\n      throw Errors.notFoundError();\n    return this.data[base32.encode(key.multihash.bytes)];\n  }\n  async has(key) {\n    return this.data[base32.encode(key.multihash.bytes)] !== undefined;\n  }\n  async delete(key) {\n    delete this.data[base32.encode(key.multihash.bytes)];\n  }\n  async *_all() {\n    yield* Object.entries(this.data).map(([key, value]) => ({\n      key: CID.createV1(raw.code, Digest.decode(base32.decode(key))),\n      value\n    }));\n  }\n  async *_allKeys() {\n    yield* Object.entries(this.data).map(([key]) => CID.createV1(raw.code, Digest.decode(base32.decode(key))));\n  }\n}"],"mappings":"AAAA,SAASA,cAAc,QAAQ,WAAW;AAC1C,SAASC,MAAM,QAAQ,2BAA2B;AAClD,OAAO,KAAKC,GAAG,MAAM,yBAAyB;AAC9C,SAASC,GAAG,QAAQ,kBAAkB;AACtC,OAAO,KAAKC,MAAM,MAAM,4BAA4B;AACpD,OAAO,KAAKC,MAAM,MAAM,aAAa;AACrC,OAAO,MAAMC,gBAAgB,SAASN,cAAc,CAAC;EACnDO,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,IAAI,GAAG,CAAC,CAAC;EAChB;EACAC,IAAI,GAAG;IACL,OAAOC,OAAO,CAACC,OAAO,EAAE;EAC1B;EACAC,KAAK,GAAG;IACN,OAAOF,OAAO,CAACC,OAAO,EAAE;EAC1B;EACA,MAAME,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAE;IAClB,IAAI,CAACP,IAAI,CAACP,MAAM,CAACe,MAAM,CAACF,GAAG,CAACG,SAAS,CAACC,KAAK,CAAC,CAAC,GAAGH,GAAG;EACrD;EACA,MAAMI,GAAG,CAACL,GAAG,EAAE;IACb,MAAMM,MAAM,GAAG,MAAM,IAAI,CAACC,GAAG,CAACP,GAAG,CAAC;IAClC,IAAI,CAACM,MAAM,EACT,MAAMf,MAAM,CAACiB,aAAa,EAAE;IAC9B,OAAO,IAAI,CAACd,IAAI,CAACP,MAAM,CAACe,MAAM,CAACF,GAAG,CAACG,SAAS,CAACC,KAAK,CAAC,CAAC;EACtD;EACA,MAAMG,GAAG,CAACP,GAAG,EAAE;IACb,OAAO,IAAI,CAACN,IAAI,CAACP,MAAM,CAACe,MAAM,CAACF,GAAG,CAACG,SAAS,CAACC,KAAK,CAAC,CAAC,KAAKK,SAAS;EACpE;EACA,MAAMC,MAAM,CAACV,GAAG,EAAE;IAChB,OAAO,IAAI,CAACN,IAAI,CAACP,MAAM,CAACe,MAAM,CAACF,GAAG,CAACG,SAAS,CAACC,KAAK,CAAC,CAAC;EACtD;EACA,OAAOO,IAAI,GAAG;IACZ,OAAOC,MAAM,CAACC,OAAO,CAAC,IAAI,CAACnB,IAAI,CAAC,CAACoB,GAAG,CAAC,CAAC,CAACd,GAAG,EAAEe,KAAK,CAAC,MAAM;MACtDf,GAAG,EAAEX,GAAG,CAAC2B,QAAQ,CAAC5B,GAAG,CAAC6B,IAAI,EAAE3B,MAAM,CAAC4B,MAAM,CAAC/B,MAAM,CAAC+B,MAAM,CAAClB,GAAG,CAAC,CAAC,CAAC;MAC9De;IACF,CAAC,CAAC,CAAC;EACL;EACA,OAAOI,QAAQ,GAAG;IAChB,OAAOP,MAAM,CAACC,OAAO,CAAC,IAAI,CAACnB,IAAI,CAAC,CAACoB,GAAG,CAAC,CAAC,CAACd,GAAG,CAAC,KAAKX,GAAG,CAAC2B,QAAQ,CAAC5B,GAAG,CAAC6B,IAAI,EAAE3B,MAAM,CAAC4B,MAAM,CAAC/B,MAAM,CAAC+B,MAAM,CAAClB,GAAG,CAAC,CAAC,CAAC,CAAC;EAC5G;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}